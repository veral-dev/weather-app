{"ast":null,"code":"import _regeneratorRuntime from\"/Users/davidvrl/Desktop/Projects/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/davidvrl/Desktop/Projects/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/davidvrl/Desktop/Projects/weather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Header from'./components/Header';import Form from'./components/Form';import Weather from'./components/Weather';import Error from'./components/Error';function App(){var _useState=useState({city:'',country:''}),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),consult=_useState4[0],setConsult=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var city=search.city,country=search.country;useEffect(function(){var consultApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var appId,url,response,_result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!consult){_context.next=12;break;}appId='adffd53b6e8403d1445b4fddeb5665ae';url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\",\").concat(country,\"&appid=\").concat(appId);_context.next=5;return fetch(url);case 5:response=_context.sent;_context.next=8;return response.json();case 8:_result=_context.sent;setResult(_result);setConsult(false);//Mirar si encuentra errores\nif(_result.cod==='404'){setError(true);}else{setError(false);}case 12:case\"end\":return _context.stop();}}},_callee);}));return function consultApi(){return _ref.apply(this,arguments);};}();consultApi();//eslint-disable-next-line\n},[consult]);var component;if(error){component=/*#__PURE__*/React.createElement(Error,{message:\"No hay resultados\"});}else{component=/*#__PURE__*/React.createElement(Weather,{result:result});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Weather React App\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col m6 s12\"},/*#__PURE__*/React.createElement(Form,{search:search,setSearch:setSearch,setConsult:setConsult})),/*#__PURE__*/React.createElement(\"div\",{className:\"col m6 s12\"},component)))));}export default App;","map":{"version":3,"sources":["/Users/davidvrl/Desktop/Projects/weather-app/src/App.js"],"names":["React","useState","useEffect","Header","Form","Weather","Error","App","city","country","search","setSearch","consult","setConsult","result","setResult","error","setError","consultApi","appId","url","fetch","response","json","cod","component"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAGA,QAASC,CAAAA,GAAT,EAAe,eAEiBN,QAAQ,CAAC,CACjCO,IAAI,CAAE,EAD2B,CAEjCC,OAAO,CAAE,EAFwB,CAAD,CAFzB,wCAEJC,MAFI,eAEIC,SAFJ,8BAOmBV,QAAQ,CAAC,KAAD,CAP3B,yCAOJW,OAPI,eAOKC,UAPL,8BAQiBZ,QAAQ,CAAC,EAAD,CARzB,yCAQJa,MARI,eAQIC,SARJ,8BASed,QAAQ,CAAC,KAAD,CATvB,yCASJe,KATI,eASGC,QATH,kBAWHT,CAAAA,IAXG,CAWeE,MAXf,CAWHF,IAXG,CAWGC,OAXH,CAWeC,MAXf,CAWGD,OAXH,CAaXP,SAAS,CAAC,UAAM,CACZ,GAAMgB,CAAAA,UAAU,0FAAG,sKAEXN,OAFW,0BAGLO,KAHK,CAGG,kCAHH,CAILC,GAJK,6DAIsDZ,IAJtD,aAI8DC,OAJ9D,mBAI+EU,KAJ/E,wBAMYE,CAAAA,KAAK,CAACD,GAAD,CANjB,QAMLE,QANK,qCAOUA,CAAAA,QAAQ,CAACC,IAAT,EAPV,QAOLT,OAPK,eASXC,SAAS,CAACD,OAAD,CAAT,CACAD,UAAU,CAAC,KAAD,CAAV,CAEA;AACA,GAAIC,OAAM,CAACU,GAAP,GAAe,KAAnB,CAA0B,CACtBP,QAAQ,CAAC,IAAD,CAAR,CACH,CAFD,IAEO,CACHA,QAAQ,CAAC,KAAD,CAAR,CACH,CAjBU,uDAAH,kBAAVC,CAAAA,UAAU,0CAAhB,CAoBAA,UAAU,GACV;AACH,CAvBQ,CAuBN,CAACN,OAAD,CAvBM,CAAT,CAyBA,GAAIa,CAAAA,SAAJ,CACA,GAAIT,KAAJ,CAAW,CACPS,SAAS,cAAG,oBAAC,KAAD,EAAO,OAAO,CAAC,mBAAf,EAAZ,CACH,CAFD,IAEO,CACHA,SAAS,cAAG,oBAAC,OAAD,EAAS,MAAM,CAAEX,MAAjB,EAAZ,CACH,CAED,mBACI,qDACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,mBAAd,EADJ,cAEI,2BAAK,SAAS,CAAC,iBAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,IAAD,EAAM,MAAM,CAAEJ,MAAd,CAAsB,SAAS,CAAEC,SAAjC,CAA4C,UAAU,CAAEE,UAAxD,EADJ,CADJ,cAII,2BAAK,SAAS,CAAC,YAAf,EACKY,SADL,CAJJ,CADJ,CADJ,CAFJ,CADJ,CAoBH,CAED,cAAelB,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './components/Header'\nimport Form from './components/Form'\nimport Weather from './components/Weather'\nimport Error from './components/Error'\n\n\nfunction App() {\n\n    const [search, setSearch] = useState({\n        city: '',\n        country: '',\n    })\n\n    const [consult, setConsult] = useState(false)\n    const [result, setResult] = useState({})\n    const [error, setError] = useState(false)\n\n    const { city, country } = search\n\n    useEffect(() => {\n        const consultApi = async () => {\n\n            if (consult) {\n                const appId = 'adffd53b6e8403d1445b4fddeb5665ae'\n                const url = `https://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${appId}`\n\n                const response = await fetch(url)\n                const result = await response.json()\n\n                setResult(result)\n                setConsult(false)\n\n                //Mirar si encuentra errores\n                if (result.cod === '404') {\n                    setError(true)\n                } else {\n                    setError(false)\n                }\n            }\n        }\n        consultApi()\n        //eslint-disable-next-line\n    }, [consult])\n\n    let component\n    if (error) {\n        component = <Error message=\"No hay resultados\" />\n    } else {\n        component = <Weather result={result} />\n    }\n\n    return (\n        <>\n            <Header title='Weather React App' />\n            <div className=\"contenedor-form\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col m6 s12\">\n                            <Form search={search} setSearch={setSearch} setConsult={setConsult} />\n                        </div>\n                        <div className=\"col m6 s12\">\n                            {component}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n\n    )\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}